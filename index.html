<!DOCTYPE html>
<html>
<head>
    <title>EVN Client v2.15</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="margin:0; background:#000; color:white; text-align:center;">
    <h4 id="status">ƒêang k·∫øt n·ªëi Server...</h4>
    <img id="result" style="width:100%; border:2px solid #00ff00;">
    <video id="video" autoplay playsinline style="display:none;"></video>
    <canvas id="canvas" style="display:none;"></canvas>

    <script>
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const resultImg = document.getElementById('result');
        const status = document.getElementById('status');
        
        const ws = new WebSocket('wss://zealand-ottawa-mae-sword.trycloudflare.com'); 

        // Nh·∫≠n ·∫£nh ƒë√£ x·ª≠ l√Ω t·ª´ Laptop
        ws.onmessage = (event) => {
            resultImg.src = event.data;
            status.innerText = "üü¢ ƒêang nh·∫≠n ph·∫£n h·ªìi AI t·ª´ Laptop";
        };

        navigator.mediaDevices.getUserMedia({
            video: { facingMode: "environment", width: 480, height: 360 } // Gi·∫£m ƒë·ªô ph√¢n gi·∫£i ƒë·ªÉ m∆∞·ª£t h∆°n
        }).then(stream => {
            video.srcObject = stream;
            setInterval(() => {
                if (ws.readyState === WebSocket.OPEN) {
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    ws.send(canvas.toDataURL('image/jpeg', 0.3)); // N√©n m·∫°nh ƒë·ªÉ tƒÉng t·ªëc ph·∫£n h·ªìi
                }
            }, 100); 
        });
    </script>
</body>
</html>
